Overview
========

In this lesson, we will continue to learn how to manage and analyse spatial data using Shapely, Geopandas and other
relevant Python packages:

1. :doc:`Geocoding <geocoding>` / `Geocoding in Geopandas <../../notebooks/L3/geocoding_in_geopandas.ipynb>`__
2. `Conducting Point in Polygon queries <../../notebooks/L3/point-in-polygon.ipynb>`__
3. `How to boost spatial queries using spatial index <../../notebooks/L3/spatial_index.ipynb>`__
4. `Making Spatial joins <../../notebooks/L3/spatial-join.ipynb>`__
5. `Nearest neighbour analysis <../../notebooks/L3/nearest-neighbour.ipynb>`__

Learning goals
--------------

After this weeks' lesson you should be able to:

 - Do geocoding, i.e. transform addresses into coordinates
 - Conduct point-in-polygon queries
 - Read data from WFS services and KML files
 - Make spatial joins
 - Conduct nearest neighbour analysis (finding the closest point).

Sources
-------

Lesson materials are partly based on documentation of `Geopandas <http://geopandas.org/geocoding.html>`__, `geopy <https://geopy.readthedocs.io/en/stable/#>`__,  `Pandas <http://pandas.pydata.org/>`__,
`Shapely <https://shapely.readthedocs.io/en/stable/manual.html>`_, and `Lawhead, J. (2013), Chapters I and V <https://www.packtpub.com/application-development/learning-geospatial-analysis-python>`_.

Lesson videos
--------------

.. admonition:: Lesson 3 - Geocoding

    .. raw:: html

        <iframe width="560" height="315" src="https://www.youtube.com/embed/MqPDZq-dxBI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <p>Vuokko Heikinheimo, University of Helsinki <a href="https://www.youtube.com/watch?v=4zSLRpXZAIU&list=PLs9D4XVqc6dClEYe0tk6Ce1YZkppw8dbL">@ AutoGIS channel on Youtube</a>.</p>


    **Contents:**

        - quiz 0:00
        - Lesson 3 overview 4:02
        - Geocoding intro 5:23
        - Geocoding in geopandas 9:22
        - Table join 22:42

.. admonition:: Lesson 3 Point-in-polygon & Intersect, Spatial join

    .. raw:: html

        <iframe width="560" height="315" src="https://www.youtube.com/embed/J7NnovjwmGw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <p>Vuokko Heikinheimo, University of Helsinki <a href="https://www.youtube.com/watch?v=4zSLRpXZAIU&list=PLs9D4XVqc6dClEYe0tk6Ce1YZkppw8dbL">@ AutoGIS channel on Youtube</a>.</p>


    **Contents:**

        - Point-in-polygon using Shapely objects 04:35
        - Point-in-polygon using geopandas 14:20
        - Reading KML files 17:40
        - Quick overview of using spatial index in geopandas 36:55
        - Spatial join 44:10
        - Getting data from wfs to geopandas 46:15


.. admonition:: Lesson 3 - Nearest neighbour analysis

    .. raw:: html

        <iframe width="560" height="315" src="https://www.youtube.com/embed/SHAn-bT_i0I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <p>Vuokko Heikinheimo, University of Helsinki <a href="https://www.youtube.com/watch?v=4zSLRpXZAIU&list=PLs9D4XVqc6dClEYe0tk6Ce1YZkppw8dbL">@ AutoGIS channel on Youtube</a>.</p>


    **Contents:**

        - Shapely nearest_points 1:00
        - Nearest points in geopandas 6:00
        - See also extra materials about nearest neighbour analysis on the course webpages: [add link]
        - Quick overview of exercise 3 17:40

